## 1장 좋은 코드
### 2. 변수의 스코프를 최소화하라
  - 상태를 정의할 때는 변수와 프로퍼티의 스코프를 최소화 하는 것이 좋다.
        - 프로그램을 추적하고 관리하기 쉽기 때문
        - 다른 개발자에 의해서 변수가 잘못 사용될 수 있기 때문
    - 캡처링
        - ex) 2..100 까지 소수를 찾는 코드를 구현하라. 고 했을 때
        
        ```kotlin
            val primes: Sequence<Int> = sequence {
                var numbers = generateSequence(2) { it + 1 }
        
                while (true) {
                    val prime = numbers.first() // 2(소수)
                    yield(prime)
                    numbers = numbers.drop(1)
                        .filter { it % prime != 0 }
                }
            } 
            
            print(primes) // [2,3,5,7,11,13,17,19,23,29 ... ]
        ```
        
        - 시퀀스를 사용한다면?
        
        ```kotlin
        val primes: Sequence<Int> = sequence {
                var numbers = generateSequence(2) { it + 1 }
        
                while (true) {
                    val prime = numbers.first() // 2(소수)
                    yield(prime)
                    numbers = numbers.drop(1)
                        .filter { it % prime != 0 }
                }
            }
        
            print(primes.take(10).toList()) // [2,3,5,7,11,13,17,19,23,29]
        ```
        
        - 만약, prime 변수를 스코프 외부에 사용하게 된다면
        
        ```kotlin
        val primes1: Sequence<Int> = sequence {
                var numbers1 = generateSequence(2) { it + 1 }
        
                var prime: Int
                while (true) {
                    prime = numbers1.first() // 2(소수)
                    yield(prime)
                    numbers1 = numbers1.drop(1)
                        .filter { it % prime != 0 }
                }
            }
        
            print(primes1.take(10).toList()) // [2, 3, 5, 6, 7, 8, 9, 10, 11, 12]
        ```
        
        → 값이 달라지게 된다. 이유는 prime 이라는 변수를 캡쳐했기 때문이다. 반복문 내부에서 filter 활용해서 prime 으로 나눌 수 있는 숫자를 필터링하는데, sequence를 활용하므로 필터링이 지연됨.
        
    - 정리
        - 변수의 스코프는 좁게 만들어 활용하라!
        - var 보다는 val을 사용하자!
        - 람다에서는 변수를 캡처한다!
